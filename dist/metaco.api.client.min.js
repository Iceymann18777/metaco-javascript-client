!function t(e,r,o){function n(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return n(r?r:t)},l,l.exports,t,e,r,o)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(t,e,r){function o(t){this.HttpClient=t}var n=t("./client/MetacoClient");o.prototype.withApiUrl=function(t){return this.metacoApiUrl=t,this},o.prototype.withApiId=function(t){return this.metacoApiId=t,this},o.prototype.withApiKey=function(t){return this.metacoApiKey=t,this},o.prototype.withTestingMode=function(t){return this.metacoTestingMode=t,this},o.prototype.makeClient=function(){return new n(this.HttpClient,this.metacoApiUrl,this.metacoApiId,this.metacoApiKey,this.metacoTestingMode)},e.exports=o},{"./client/MetacoClient":3}],2:[function(t,e,r){function o(){}var n=t("./MetacoClientBuilder");o.prototype.makeClientBuilderWithHttpClient=function(t){return new n(t)},e.exports=o},{"./MetacoClientBuilder":1}],3:[function(t,e,r){function o(t,e,r,o,n){this.metacoApiId=r,this.metacoApiKey=o,this.metacoApiUrl=e,this.metacoTestingMode=n,this.httpClient=new t(this.metacoApiUrl,this.metacoApiId,this.metacoApiKey,this.metacoTestingMode)}var n=t("../utils/Extensions");o.prototype.registerAccount=function(t,e){var r={phone:t};this.httpClient.doPost("account",r,e)},o.prototype.getAccountStatus=function(t){this.httpClient.doGet("account",t)},o.prototype.confirmPhoneNumber=function(t,e){var r={code:t};this.httpClient.doPost("account/confirmation",r,e)},o.prototype.getAssets=function(t){this.httpClient.doGet("assets",t)},o.prototype.getAsset=function(t,e){this.httpClient.doGet(n.formatString("assets/{0}",t),e)},o.prototype.getAssetsHistory=function(t,e,r,o,i,a){var s="";if(null==i)s="all";else if("string"!=typeof i)for(var u=0;u<i.length;u++)s+=i[u],u<i.length-1&&(s+=",");else s=i;var c=n.formatString("assets/history?underlyings={0}&from={1}&to={2}&freq={3}&orderAsc={4}",s,t,e,r,o);this.httpClient.doGet(c,a)},o.prototype.getAssetHistory=function(t,e,r,o,n,i){this.getAssetsHistory(t,e,r,o,n,i)},o.prototype.createOrderFromSatoshiAmount=function(t,e,r,o,n,i,a,s){var u=[];"string"==typeof n?u.push(n):u=n;var c={ticker:e,amount_satoshi:r,recipient:o,funding:u,change:i,type:t,webhook:a};this.httpClient.doPost("orders",c,s)},o.prototype.createOrderFromAssetAmount=function(t,e,r,o,n,i,a,s){var u=[];"string"==typeof n?u.push(n):u=n;var c={ticker:e,amount_asset:r,recipient:o,funding:u,change:i,type:t,webhook:a};this.httpClient.doPost("orders",c,s)},o.prototype.getOrders=function(t,e,r){var o="orders",n=!0;t&&(n?(o+="?",n=!1):o+="&",o+="pageNumber="+t),e&&(o+=n?"?":"&",o+="pageSize="+e),this.httpClient.doGet(o,r)},o.prototype.getOrder=function(t,e){var r=n.formatString("orders/{0}",t);this.httpClient.doGet(r,e)},o.prototype.submitSignedOrder=function(t,e,r){var o=n.formatString("orders/{0}",t),i={raw:e};this.httpClient.doPost(o,i,r)},o.prototype.cancelOrder=function(t,e){var r=n.formatString("orders/{0}",t);this.httpClient.doDelete(r,e)},o.prototype.createTransactionFromAssetAmount=function(t,e,r,o,i,a,s){var u="transactions/raw?";null!=t&&(u+=n.formatString("amount_asset={0}&",t)),null!=e&&(u+=n.formatString("ticker={0}&",e)),null!=r&&(u+=n.formatString("from={0}&",r)),null!=o&&(u+=n.formatString("to={0}&",o)),null!=i&&(u+=n.formatString("change={0}&",i)),null!=a&&(u+=n.formatString("feePerKB={0}&",a)),u=u.slice(0,u.length-1),this.httpClient.doGet(u,s)},o.prototype.createTransactionFromSatoshiAmount=function(t,e,r,o,i,a,s){var u="transactions/raw?";null!=t&&(u+=n.formatString("amount_satoshi={0}&",t)),null!=e&&(u+=n.formatString("ticker={0}&",e)),null!=r&&(u+=n.formatString("from={0}&",r)),null!=o&&(u+=n.formatString("to={0}&",o)),null!=i&&(u+=n.formatString("change={0}&",i)),null!=a&&(u+=n.formatString("feePerKB={0}&",a)),u=u.slice(0,u.length-1),this.httpClient.doGet(u,s)},o.prototype.broadcastTransaction=function(t,e){var r={raw:t};this.httpClient.doPost("transactions",r,e)},o.prototype.getWalletDetails=function(t,e,r,o){var i=n.formatString("transactions/{0}",t),a=!0;e&&(a?(i+="?",a=!1):i+="&",i+="pageNumber="+e),r&&(i+=a?"?":"&",i+="pageSize="+r),this.httpClient.doGet(i,o)},o.prototype.getLatestDebugData=function(){return this.httpClient.getLatestDebugData()},e.exports=o},{"../utils/Extensions":8}],4:[function(t,e,r){function o(t,e){return!s.test(t.toString())}function n(t,e,r,o){return{statusCode:t,content:e,originalError:r,errorType:o}}var i=t("./MetacoErrors"),a={},s=/^2[0-9]{2}/,u=/^2[0-9]{2}/;a.handleError=function(t,e){var r=null,a=null;try{r=JSON.parse(e)}catch(s){r=null}return o(t,r)?(a=i.values.hasOwnProperty(r&&null!==r&&r.metaco_error)?i.keys[i.values[r.metaco_error]]:404==t?i.keys.NOT_FOUND:401==t?i.keys.UNAUTHORIZED:u.test(t.toString())?i.keys.UNKNOWN_ERROR:i.keys.SERVER_ERROR,n(t,e,r,a)):null},e.exports=a},{"./MetacoErrors":5}],5:[function(t,e,r){function o(t){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[t[r]]=r);return e}var n={INVALID_INPUT:"invalid_input",API_CALLS_QUOTA_EXCEEDED:"api_calls_quota_exceeded",SMS_SENDING_FAILED:"sms_sending_failed",PHONE_CONFIRMATION_NOT_FOUND:"phone_confirmation_not_found",INVALID_CONFIRMATION_CODE:"invalid_confirmation_code",ORDER_NOT_FOUND:"order_not_found",NOT_ENOUGH_FUNDS:"not_enough_funds",ORDER_TOO_SMALL:"order_too_small",ORDER_COUNT_LIMIT_EXCEEDED:"order_count_limit_exceeded",YEARLY_TRANSACTION_QUOTA_EXCEEDED:"yearly_transaction_quota_exceeded",MAXIMUM_TRANSACTION_AMOUNT_EXCEEDED:"maximum_transaction_amount_exceeded",ORDER_NOT_CANCELLABLE:"order_not_cancellable",UNAUTHORIZED:"unauthorized",NOT_FOUND:"notfound",SERVER_ERROR:"servererror",UNKNOWN_ERROR:"unknownerror"},i=o(n);e.exports={keys:n,values:i}},{}],6:[function(t,e,r){function o(t,e,r,o){this.metacoApiId=e,this.metacoApiKey=r,this.metacoApiUrl=t,this.metacoTestingMode=o,this.latestDebugData=null,this.handleDebugData=function(t){this.latestDebugData=null,this.latestDebugData=t.getResponseHeader("X-Metaco-DebugData")},this.getAbsoluteUri=function(t){return this.metacoApiUrl+t},this.getHeaders=function(){var t=[];return t.push({name:"X-Requested-With",value:"XMLHttpRequest"}),t.push({name:"Content-type",value:"application/json"}),t.push({name:"Accept",value:"application/json"}),this.metacoApiId&&""!==this.metacoApiId&&this.metacoApiKey&&""!==this.metacoApiKey&&(t.push({name:"X-Metaco-Id",value:this.metacoApiId}),t.push({name:"X-Metaco-Key",value:this.metacoApiKey})),this.metacoTestingMode&&t.push({name:"X-Metaco-Debug",value:!0}),t},this.doAjaxRequest=function(t,e,r,o){try{var i=this,a=this.getHeaders(),s=this.getAbsoluteUri(e),u=JSON.stringify(o),c=new(window.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");c.open(t,s,1);for(var l in a)a.hasOwnProperty(l)&&c.setRequestHeader(a[l].name,a[l].value);c.onreadystatechange=function(){if(c.readyState>3){var t=c.responseText,e=n.handleError(c.status,t);if(i.handleDebugData(c),e)r(e,null);else{var o=!0;try{o=JSON.parse(t)}catch(a){}r(e,o)}}},c.send(u)}catch(p){var h=n.handleError(0,p.toString());r(h,null)}}}var n=t("../errors/ErrorHandler");o.prototype.doGet=function(t,e){return this.doAjaxRequest("GET",t,e,null)},o.prototype.doPost=function(t,e,r){return this.doAjaxRequest("POST",t,r,e)},o.prototype.doDelete=function(t,e){return this.doAjaxRequest("DELETE",t,e,null)},o.prototype.getLatestDebugData=function(){return this.latestDebugData},e.exports=o},{"../errors/ErrorHandler":4}],7:[function(t,e,r){function o(){return(new n).makeClientBuilderWithHttpClient(i)}var n=t("./MetacoClientBuilderFactory"),i=t("./http/BrowserHttpClient"),a=t("./errors/MetacoErrors");!function(t){t.metaco=t.metaco||{},t.metaco.GetClientBuilder=o,t.metaco.MetacoErrors=a.keys}(window)},{"./MetacoClientBuilderFactory":2,"./errors/MetacoErrors":5,"./http/BrowserHttpClient":6}],8:[function(t,e,r){var o={};o.formatString=function(t){for(var e=0;e<arguments.length-1;e++){var r=new RegExp("\\{"+e+"\\}","gi");t=t.replace(r,arguments[e+1])}return t},e.exports=o},{}]},{},[7]);
//# sourceMappingURL=metaco.api.client.min.js.map